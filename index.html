<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صدقة جارية | عمي مصطفى محمد حسن</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary: #0d1b0f; --gold: #d4af37; --card: #1a291c; --text: #f5f5f5; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: var(--primary); color: var(--text); line-height: 1.6; }

        /* هيدر ثابت */
        .header { background: #000; padding: 30px 15px; text-align: center; border-bottom: 3px solid var(--gold); }
        .header h1 { color: var(--gold); font-size: 1.8rem; }

        /* قائمة التنقل */
        .nav-bar { 
            position: sticky; top: 0; background: #000; z-index: 1000;
            display: flex; overflow-x: auto; padding: 10px; gap: 8px;
            border-bottom: 1px solid var(--gold);
        }
        .nav-btn { 
            background: var(--card); color: white; border: 1px solid var(--gold);
            padding: 8px 18px; border-radius: 20px; white-space: nowrap; cursor: pointer;
        }
        .nav-btn.active { background: var(--gold); color: #000; font-weight: bold; }

        .container { padding: 15px; max-width: 800px; margin: auto; }
        .section { display: none; }
        .section.active { display: block; }

        /* الشات */
        .chat-box { background: var(--card); border-radius: 15px; height: 400px; display: flex; flex-direction: column; overflow: hidden; border: 1px solid #333; }
        .chat-msgs { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        .msg { max-width: 80%; padding: 10px; border-radius: 10px; font-size: 0.9rem; }
        .bot { background: #254a2e; align-self: flex-start; }
        .user { background: var(--gold); color: #000; align-self: flex-end; }
        .chat-in { display: flex; padding: 10px; background: #000; gap: 5px; }
        .chat-in input { flex: 1; padding: 10px; border-radius: 20px; border: none; }
        .chat-in button { background: var(--gold); border: none; padding: 0 15px; border-radius: 20px; cursor: pointer; }

        /* الكروت */
        .grid { display: grid; grid-template-columns: 1fr; gap: 10px; }
        .card { background: var(--card); padding: 15px; border-radius: 10px; border-right: 4px solid var(--gold); cursor: pointer; }

        /* نافذة الذكر */
        .modal { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.9); display:none; z-index:9999; justify-content:center; align-items:center; padding:20px; }
        .modal-box { background: #111; border: 1px solid var(--gold); padding: 20px; border-radius: 15px; text-align: center; width: 100%; max-width: 500px; }

        /* الإذاعة والسبحة */
        .p-bar { position: fixed; bottom: 0; width: 100%; background: var(--gold); color: #000; padding: 10px; display: none; justify-content: space-between; font-weight: bold; }
        .sebha-btn { width: 150px; height: 150px; border-radius: 50%; border: 5px solid var(--gold); margin: 20px auto; display: flex; align-items: center; justify-content: center; font-size: 3rem; cursor: pointer; }
    </style>
</head>
<body>

    <div class="header">
        <p>صدقة جارية لروح</p>
        <h1>عمي مصطفى محمد حسن</h1>
    </div>

    <div class="nav-bar">
        <button class="nav-btn active" onclick="show('ai', this)">Saif AI</button>
        <button class="nav-btn" onclick="show('hesn', this)">حصن المسلم</button>
        <button class="nav-btn" onclick="show('duaa', this)">أدعية</button>
        <button class="nav-btn" onclick="show('quran', this)">المصحف</button>
        <button class="nav-btn" onclick="show('radio', this)">الإذاعة</button>
        <button class="nav-btn" onclick="show('sebha', this)">السبحة</button>
    </div>

    <div class="container">
        <div id="ai" class="section active">
            <div class="chat-box">
                <div class="chat-msgs" id="chatMsgs">
                    <div class="msg bot">مرحباً يا سيف! أنا Saif AI المطوّر. اسألني عن أي شيء يخص الصبر، المتوفى، أو الأذكار.</div>
                </div>
                <div class="chat-in">
                    <input type="text" id="chatInput" placeholder="اكتب سؤالك هنا...">
                    <button onclick="ask()"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>

        <div id="hesn" class="section">
            <div class="grid" id="hesnGrid"></div>
        </div>

        <div id="duaa" class="section">
            <div class="grid" id="duaaGrid"></div>
        </div>

        <div id="quran" class="section">
            <iframe src="https://tanzil.net/#1:1" style="width:100%; height:500px; border-radius:10px;"></iframe>
        </div>

        <div id="radio" class="section">
            <div class="grid">
                <div class="card" onclick="play('https://stream.radiojar.com/8s5u5tpdtwzuv', 'إذاعة القاهرة')"><h3>إذاعة القاهرة</h3><p>بث مباشر</p></div>
                <div class="card" onclick="play('https://qurango.net/radio/mohammad_siddiq_alminshawi_mojawwad.mp3', 'المنشاوي')"><h3>الشيخ المنشاوي</h3><p>المصحف المجود</p></div>
            </div>
        </div>

        <div id="sebha" class="section" style="text-align:center;">
            <div class="sebha-btn" onclick="countS()">
                <span id="sNum">0</span>
            </div>
            <p onclick="resetS()" style="color:red; cursor:pointer;">تصفير العداد</p>
        </div>
    </div>

    <div class="modal" id="modal" onclick="this.style.display='none'">
        <div class="modal-box">
            <h3 id="mTitle" style="color:var(--gold)"></h3>
            <hr style="margin:10px 0; opacity:0.2;">
            <p id="mText"></p>
        </div>
    </div>

    <div class="p-bar" id="pBar">
        <span id="pTitle"></span>
        <span onclick="stopP()" style="cursor:pointer;">[إيقاف ✖]</span>
    </div>
    <audio id="audio"></audio>

    <script>
        // AI Logic
        const brain = {
            "صبر": "قال ﷺ: (ما أعطي أحد عطاء خيراً وأوسع من الصبر).",
            "موت": "اللهم اغفر لعمي مصطفى وارحمه واجعل قبره روضة من رياض الجنة.",
            "صدقة": "قال ﷺ: (إذا مات ابن آدم انقطع عمله إلا من ثلاث: صدقة جارية...)",
            "أذكار": "أفضل الذكر 'لا إله إلا الله' وأفضل الدعاء 'الحمد لله'."
        };

        function ask() {
            let inp = document.getElementById('chatInput');
            let box = document.getElementById('chatMsgs');
            if(!inp.value) return;
            box.innerHTML += `<div class="msg user">${inp.value}</div>`;
            let reply = "مرحباً بك! يمكنني مساعدتك في الأذكار والأدعية لعمك مصطفى رحمه الله.";
            for(let key in brain) { if(inp.value.includes(key)) reply = brain[key]; }
            setTimeout(() => {
                box.innerHTML += `<div class="msg bot">${reply}</div>`;
                box.scrollTop = box.scrollHeight;
            }, 500);
            inp.value = "";
        }

        // حصن المسلم
        const hesn = [
            {t:"أذكار الصباح", c:"أصبحنا وأصبح الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له.."},
            {t:"أذكار المساء", c:"أمسينا وأمسى الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له.."},
            {t:"سيد الاستغفار", c:"اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك.."},
            {t:"عند الهم", c:"حسبي الله لا إله إلا هو عليه توكلت وهو رب العرش العظيم."}
        ];
        hesn.forEach(item => {
            document.getElementById('hesnGrid').innerHTML += `<div class="card" onclick="openM('${item.t}','${item.c}')"><h3>${item.t}</h3><p>اضغط للقراءة</p></div>`;
        });

        // أدعية
        for(let i=1; i<=10; i++){
            document.getElementById('duaaGrid').innerHTML += `<div class="card">اللهم ارحم عمي مصطفى واغفر له واجعل الجنة مثواه (دعاء ${i})</div>`;
        }

        function show(id, btn) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            btn.classList.add('active');
        }

        function openM(t, c) {
            document.getElementById('mTitle').innerText = t;
            document.getElementById('mText').innerText = c;
            document.getElementById('modal').style.display = 'flex';
        }

        let audio = document.getElementById('audio');
        function play(url, t) {
            audio.src = url; audio.play();
            document.getElementById('pTitle').innerText = "شغال: " + t;
            document.getElementById('pBar').style.display = 'flex';
        }
        function stopP() { audio.pause(); document.getElementById('pBar').style.display = 'none'; }

        let s = 0;
        function countS() { s++; document.getElementById('sNum').innerText = s; }
        function resetS() { s=0; document.getElementById('sNum').innerText = 0; }
    </script>
</body>
</html>